% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/functions.r
\name{simulate_lines}
\alias{simulate_lines}
\title{Simulate Selection Bias Across Parameter Grid}
\usage{
simulate_lines(x1_vals, y_vals, n = 1e+06)
}
\arguments{
\item{x1_vals}{Numeric vector of selection coefficients for exposure x1 to test.}

\item{y_vals}{Numeric vector of selection coefficients for outcome y to test.}

\item{n}{Integer. Sample size for each simulation (default: 1e6).}
}
\value{
A tibble with estimation results for each parameter combination:
\describe{
\item{beta}{Point estimate of the causal effect of x1 on y}
\item{se}{Standard error of the estimate}
\item{lower}{Lower bound of 95\% confidence interval}
\item{upper}{Upper bound of 95\% confidence interval}
\item{x1_sel}{Selection coefficient for x1 used in this simulation}
\item{y_sel}{Selection coefficient for y used in this simulation}
}
}
\description{
Performs simulation study across a grid of selection coefficients for exposure x1
and outcome y. For each combination, generates data and estimates the causal effect
to study how selection bias affects inference.
}
\details{
The function creates a grid of all combinations of \code{x1_vals} and \code{y_vals}.
For each combination, it generates data using \code{dgm()} with fixed parameters
(rg=0.67, prs_beta_x1=0.3, prs_beta_x2=0.3, y_prev=1/7, x2_sel=0) and
the varying selection coefficients. It then estimates the causal effect using
\code{estimation()}. Results from failed estimations (NULL returns) are excluded.
}
\examples{
\dontrun{
# Test selection bias across different coefficient values
x1_values <- seq(-0.2, 0.2, 0.1)
y_values <- seq(-0.2, 0.2, 0.1)
results <- simulate_lines(x1_values, y_values, n = 1e5)

# Visualize results
library(ggplot2)
ggplot(results, aes(x1_sel, y_sel, fill = beta)) +
  geom_tile() +
  scale_fill_gradient2()
}

}
\seealso{
\code{\link{dgm}}, \code{\link{estimation}}, \code{\link{simulate_interaction_only}}
}
